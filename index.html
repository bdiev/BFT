<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Body Fat Tracker</title>
	<meta name="theme-color" content="#0f1116" />
	<link rel="manifest" href="./manifest.json" />
	<link rel="preconnect" href="https://fonts.googleapis.com" />
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
	<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet" />
	<link rel="stylesheet" href="./style.css" />
</head>
<body>
	<div class="wrap">
		<header>
			<div>
				<p class="pill">PWA • Offline ready</p>
				<h1 class="title">Трекер процента жира</h1>
				<p class="subtitle">Считайте процент жира по формуле US Navy, переключайте мужскую/женскую формулу, сохраняйте историю локально и отслеживайте динамику на графике.</p>
			</div>
			<div class="stat card" style="min-width: 220px;">
				<span class="label">Последний результат</span>
				<span class="value" id="last-result">—</span>
				<span class="muted" id="last-meta">Нет данных</span>
			</div>
		</header>

		<div class="card" id="auth-card">
			<div style="display:flex; justify-content: space-between; align-items:center; gap:12px; flex-wrap: wrap;">
				<div>
					<strong>Аккаунт</strong>
					<p class="muted" style="margin:4px 0 0;">Выберите пользователя и введите пароль 1234</p>
				</div>
				<span class="badge" id="current-user-pill">Не вошли</span>
			</div>
			<div class="auth-grid" style="margin-top:12px;">
				<div>
					<label for="userSelect">Пользователь</label>
					<select id="userSelect" style="width:100%; padding:12px; border-radius:14px; border:1px solid rgba(255,255,255,0.1); background: rgba(255,255,255,0.04); color: var(--text);">
						<option value="bohdan">Bohdan</option>
						<option value="konstantin">Konstantin</option>
						<option value="izabella">Izabella</option>
					</select>
				</div>
				<div>
					<label for="passwordInput">Пароль</label>
					<input id="passwordInput" type="password" inputmode="numeric" placeholder="1234" />
				</div>
				<div style="display:flex; gap:8px;">
					<button class="primary" id="loginBtn" type="button" style="flex:1;">Войти</button>
					<button class="ghost" id="logoutBtn" type="button" style="flex:1;">Выйти</button>
				</div>
			</div>
			<p class="muted" id="authStatus" style="margin:10px 0 0;">Войдите, чтобы сохранить личную историю.</p>
		</div>

		<section class="grid">
			<div class="card" id="form-card">
				<div style="display:flex; justify-content: space-between; align-items:center; gap:10px; flex-wrap: wrap;">
					<div>
						<strong>Формула</strong>
						<p class="muted" style="margin:4px 0 0;">Выберите пол для расчёта</p>
					</div>
					<div class="segmented" role="group" aria-label="Пол">
						<button id="maleBtn" class="active" type="button">Мужчина</button>
						<button id="femaleBtn" type="button">Женщина</button>
					</div>
				</div>

				<div class="inputs">
					<div>
						<label for="height">Рост (см)</label>
						<input id="height" type="number" inputmode="decimal" placeholder="Например, 178" />
					</div>
					<div>
						<label for="neck">Обхват шеи (см)</label>
						<input id="neck" type="number" inputmode="decimal" placeholder="Например, 38" />
					</div>
					<div>
						<label for="waist">Обхват талии (см)</label>
						<input id="waist" type="number" inputmode="decimal" placeholder="Например, 82" />
					</div>
					<div id="hip-wrap" style="display:none;">
						<label for="hip">Обхват бёдер (см)</label>
						<input id="hip" type="number" inputmode="decimal" placeholder="Только для женщин" />
					</div>
				</div>

				<div class="actions">
					<button class="primary" id="calcBtn" type="button">Рассчитать и сохранить</button>
					<button class="ghost" id="clearBtn" type="button">Очистить историю</button>
				</div>

				<div class="result" aria-live="polite">
					<div>
						<div class="muted">Текущий расчёт</div>
						<div class="number" id="current-result">—</div>
					</div>
					<div class="muted" id="current-note">Введите данные выше</div>
				</div>
			</div>

			<div class="card">
				<div style="display:flex; justify-content: space-between; align-items:center;">
					<strong>История</strong>
					<span class="muted" id="history-count">0 записей</span>
				</div>
				<div class="history" id="history"></div>
			</div>
		</section>

		<section class="card">
			<div style="display:flex; justify-content: space-between; align-items:center; gap:10px; flex-wrap: wrap;">
				<div>
					<strong>График изменения жира</strong>
					<p class="muted" style="margin:4px 0 0;">Каждая точка — сохранённый расчёт</p>
				</div>
			</div>
			<canvas id="chart" height="280"></canvas>
		</section>
	</div>

	<script src="./app.js"></script>
</body>
</html>
